<!-- Main Navigation -->
<mat-toolbar class="main-header">
  <mat-toolbar-row class="nav-container">
    <!-- Brand Section -->
    <div class="brand-section">
      <a routerLink="/" class="brand">
        <mat-icon>palette</mat-icon>
        <span>Animal Arts</span>
      </a>
    </div>

    <!-- Mobile Navigation -->
    <div *ngIf="isMobile" class="hamburger-menu">
      <button mat-icon-button [matMenuTriggerFor]="mobileMenu">
        <mat-icon>menu</mat-icon>
      </button>
      <mat-menu #mobileMenu="matMenu">
        <!-- Products Link -->
        <button mat-menu-item routerLink="/products" routerLinkActive="active">
          <mat-icon>grid_view</mat-icon>
          <span>Products</span>
        </button>

        <!-- Admin Label -->
        <button mat-menu-item *ngIf="isAdmin" disabled>
          <mat-icon>admin_panel_settings</mat-icon>
          <span>Admin</span>
        </button>

        <!-- Cart Link -->
        <button
          mat-menu-item
          *ngIf="!isAdmin"
          routerLink="/cart"
          routerLinkActive="active"
        >
          <mat-icon>shopping_cart</mat-icon>
          <span>Cart</span>
        </button>

        <!-- User Options -->
        <ng-container *ngIf="isLoggedIn; else loggedOut">
          <button mat-menu-item disabled>
            <mat-icon>person</mat-icon>
            <span>{{ userName }}</span>
          </button>
          <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>Logout</span>
          </button>
        </ng-container>

        <!-- Login/Sign Up -->
        <ng-template #loggedOut>
          <button
            mat-menu-item
            routerLink="/auth/login"
            routerLinkActive="active"
          >
            <mat-icon>login</mat-icon>
            <span>Login</span>
          </button>
          <button
            mat-menu-item
            routerLink="/auth/register"
            routerLinkActive="active"
          >
            <mat-icon>person_add</mat-icon>
            <span>Sign Up</span>
          </button>
        </ng-template>
      </mat-menu>
    </div>

    <!-- Desktop Navigation -->
    <nav *ngIf="!isMobile" class="nav-links">
      <!-- Products Link -->
      <a mat-button routerLink="/products" routerLinkActive="active">
        <mat-icon>grid_view</mat-icon>
        <span>Products</span>
      </a>

      <!-- Dashboard -->
      <a
        mat-button
        *ngIf="isAdmin"
        routerLink="/admin/dashboard"
        routerLinkActive="active"
      >
        <mat-icon>dashboard</mat-icon>
        <span>Dashboard</span>
      </a>

      <!-- Admin Label -->
      <span *ngIf="isAdmin" class="admin-label">
        <mat-icon>admin_panel_settings</mat-icon> Admin
      </span>

      <!-- Cart Link -->
      <a
        mat-button
        *ngIf="!isAdmin"
        routerLink="/cart"
        routerLinkActive="active"
      >
        <mat-icon>shopping_cart</mat-icon>
        <span>Cart</span>
      </a>

      <!-- User Options -->
      <ng-container *ngIf="isLoggedIn; else loggedOut">
        <span class="user-name">{{ userName }}</span>
        <a mat-button color="accent" class="logout-button" (click)="logout()">
          <mat-icon>logout</mat-icon>
          <span>Logout</span>
        </a>
      </ng-container>

      <!-- Login/Sign Up -->
      <ng-template #loggedOut>
        <a
          mat-button
          color="accent"
          routerLink="/auth/login"
          routerLinkActive="active"
        >
          <mat-icon>login</mat-icon>
          <span>Login</span>
        </a>
        <a mat-button routerLink="/auth/register" routerLinkActive="active">
          <mat-icon>person_add</mat-icon>
          <span>Sign Up</span>
        </a>
      </ng-template>
    </nav>
  </mat-toolbar-row>
</mat-toolbar>
